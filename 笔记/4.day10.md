### 浏览器渲染机制

#### **1. 进程和线程**

**进程 :** 进程是操作系统资源分配的基本单位，进程中包含线程。简而言之，就是正在进行中的应用程序。

**线程**：线程是由进程所管理的。是进程内的一个独立执行的单位，是CPU调度的最小单位。

#### **2. 浏览器中的5个进程**

![image-20220121160008223](https://img-blog.csdnimg.cn/img_convert/54b03de86f3caf3d5a2898418b1bc2fc.png)

#### **3. HTTP 请求流程**

`HTTP`是一种允许浏览器向服务器获取资源的协议，是Web的基础。通常由浏览器发起请求，用来获取不同类型的文件，例如`HTML`，`CSS`，`JavaScript`、**图片**、**视频**等。此外，`HTTP`也是浏览器使用最广的协议。规定了客户端请求，和服务器端响应数据格式的协议。

##### 3.1浏览器发送 HTTP 请求的流程

**1.构造请求**

首先，浏览器构造请求行，构建好之后，浏览器准备发起网络请求

**2.查找缓存**

在正在发起网络请求之前，浏览器会现在浏览器缓存中查询是否有请求的文件，其实**浏览器缓存是一种本地保存的资源副本，以供下次请求时直接使用的技术。**

当浏览器发现请求的资源已经在浏览器缓存中存有副本，它会拦截请求，返回该资源的副本，并直接结束请求。而不会再去源服务器中重新下载。这样可以**缓解服务的压力，提升性能**。如果缓存查找失败，则进入网络请求。

**3.准备IP地址和端口**

HTTP和TCP的关系，因为浏览器使用HTTP协议作为应用层协议**，用来封装请求的文本信息**；并使用TCP/IP作传输层协议将它发到网络上，所以在HTTP工作开始之前，浏览器需要TCP与服务器建立连接。也就是说HTTP的内容是通过TCP的传输数据阶段来实现的。

第一步浏览器会请求 DNS 返回域名对应的 IP。**当然浏览器还提供了 DNS 数据缓存服务**，如果某个域名已经解析过了，那么浏览器会缓存解析的结果，以供下次查询时直接使用，这样也会减少一次网络请求。

**4.等待TCP队列**

IP地址和端口已经准备好了，是不是可以马上建立TCP连接。

不行，因为Chrome有个机制，同一个域名同时最多只能建立6个TCP连接。如果请求书少于6个，直接进入下一步，建立TCP连接。

**5.建立TCP连接**

排队等待结束后，建立TCP连接

 **6.发送HTTP请求**

### z-index失效情况

在使用z-index属性时，可能会有出现失效的情况，无论把 z-index 的值设置成多少，都没有效果。

（z-index值越大就越是在上层）

这个时候要考虑下有没有下面几种情况，导致了z-index失效了。

**1、浮动。**

         标签在设置z-index的同时还设置了float浮动。浮动会让z-index失效。

   解决办法

     去除浮动。改为display：inline-block；

**2、父元素position为relative时，子元素的z-index失效**

   解决办法

     父元素position改为absolute或static

**3、元素没有设置position属性为非static属性。**

       z-index元素的position属性要是relative，absolute或是fixed，否则会失效。
    
    解决办法
    
      设置position属性为relative，absolute或是fixed中的一种