### JS运行机制

#### 同步异步

1) **同步**

> 按顺序执行

2) **异步**

> 先执行一部分,然后等待结果,等拿到结果之后,再执行另一部分
> 1.定时器
> 2.ajax
> 3.读取文件

1000 100 10 3 2 1
***解释:同步程序完成后,后执行异步程序***

#### 单线程

**1) js是单线程**

> 一个任务完成之后,才能执行另外一个任务

***不管定时器写几,也是在同步的代码完成之后,再执行异步的代码***

#### 事件循环

Event Loop(事件循环)中，每一次循环称为 tick, 每一次tick的任务如下：

- 执行栈选择最先进入队列的宏任务(通常是script整体代码)，如果有则执行
- 检查是否存在微任务，如果存在则不停的执行，直至清空微任务队列
- 更新render(每一次事件循环，浏览器都可能会去更新渲染)
- 重复以上步骤

1. 将所有任务看成两个队列：执行队列与事件队列。
2. 执行队列是同步的，事件队列是异步的，宏任务放入事件列表，微任务放入执行队列之后，事件队列之前。
3. 当执行完同步代码之后，就会执行位于执行列表之后的微任务，然后再执行事件列表中的宏任务。

#### 宏任务微任务

**什么是宏任务和微任务**

JavaScript把异步任务又做了进一步的划分，异步任务又分为两类，分别是：

1. **宏任务**（macrotask）：
   - 异步Ajax请求
   - setTimeout 、setInterval
   - 文件操作
   - 其他宏任务

1. **微任务**（microtask）：
   - Promise.then、Promise.catch和Promise.finally
   - process.nextTick
   - 其他微任务

**宏任务和微任务的执行顺序**

![在这里插入图片描述](https://img-blog.csdnimg.cn/b335a46677114184bb6148d25b7744d9.png)

**day4**

----

###　ＢＦＣ

**简介：什么是BFC？**

BFC(Block Formatting Context)的英文缩写简称，block可以理解为一个简单的盒模型， Formatting Context则为block的上下文渲染环境。其作用是使内部元素的布局不受外部元素影响。



**BFC触发条件**

* 根元素,也就是html根标签；

* position：fixed/absoluted;

* float属性值不是none的；

* overflow属性值不是visible的；

* display属性值：inline-display/table-cell/table-caption/flex/inline-flex;

  

  **BFC作用**

- bfc内部元素的布局不受外部元素影响。
- bfc区域不会出现margin重叠
- bfc区域计算高度时候会自动计算浮动元素。
- bfc区域不会和浮动元素重合。

### let、var、const
let所声明的变量只在let命令所在的代码块内有效。（块级作用域）

> 一、块级作用域if
>
> 二、块级作用域for

let命令不存在变量提升

let声明变量存在暂时性死区（即变量会绑定某个区域，不受外部影响）

在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”。

 

1.var声明的变量会挂载在window上，而let和const声明的变量不会

2.var声明变量存在变量提升，let和const不存在变量提升

3.let和const声明形成块作用域

4.同一作用域下let和const不能声明同名变量，而var可以

5.const一旦声明必须赋值,不能使用null占位；声明后不能再修改 ；如果声明的是复合类型数据，可以修改其属性